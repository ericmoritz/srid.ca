---
date: 2020-09-14T21:11
---

# X1 Carbon Gen 7 + NixOS

I recently purchased a Thinkpad X1 Carbon (Gen 7)[^tw1] and installed NixOS on it. 

[^tw1]: <https://twitter.com/sridca/status/1304155221183131648>

## Setting up Linux

I used [these instructions](https://github.com/andywhite37/nixos/blob/master/DUAL_BOOT_WINDOWS_GUIDE.md)[^nat] to install NixOS alongside Windows.

Note the following:

- Disable Secure Boot in BIOS. NixOS won't boot otherwise.
- Use nixos-unstable and choose the latest kernel
  - Later, choose `linuxPackages_testing` for kernel 5.9 which has support for external 5k monitor resolution.

As usual, refer [the Arch wiki](https://wiki.archlinux.org/index.php/Lenovo_ThinkPad_X1_Carbon_(Gen_7)) for details.

[^nat]: Note that you can use native Windows disk manage to resize the partition. No need to install a third party app as this article indicates.